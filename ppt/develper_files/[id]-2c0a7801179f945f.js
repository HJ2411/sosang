(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6408],{36909:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/create/generate/[id]",function(){return n(28819)}])},27732:(e,t,n)=>{"use strict";n.d(t,{n:()=>S,j:()=>T});var r=n(31085),i=n(40173),a=n(25420),o=n(35687),s=n(61778),l=n(80853),d=n(94259),c=n(20501),u=n(24221),x=n(14041),p=n(44507),h=n(22544),m=n(92667),v=n(86724),g=n(30503),f=n(69086),j=n(52177),b=n(65998),y=n(92405),A=n(39286),w=n(3706),k=n(77563),_=n(20728),M=n(26253),O=n(14979),E=n(10458),N=n(57882),P=n(10628),R=n(88679),C=n(31941),I=n(14691);let D=[{Component:()=>{let e=(0,b.u)("outageButterbar");if(!e.enabled)return null;let{header:t,text:n,buttonLink:i,buttonText:a,key:o,pathnameRegexp:s}=e;return(0,r.jsx)(T,{definition:{key:o,header:t,text:n,buttonText:a,buttonLink:i,conditions:()=>!s||null!==window.location.pathname.match(new RegExp(s))}})},key:"outage-butterbar"},{Component:()=>"NORMAL"===(0,b.u)("openAiStatus")?null:(0,r.jsx)(T,{definition:{key:"ai-service-status",header:(0,r.jsx)(j.x6,{id:"1Agl06"}),text:(0,r.jsx)(j.x6,{id:"cCl6WD"}),ttl:86400,conditions:()=>(0,y.a5)(window.location.pathname)}}),key:"ai-service-status-butterbar"},{Component:()=>{var e,t,n;let{user:i,currentWorkspace:a}=(0,N.ur)(),{subscription:o,product:s}=(0,P.I)(),{launchFailedPaymentFlow:l,failedPaymentFlowEnabled:d}=(0,M.yf)({subscription:o,workspace:a,autoLaunch:!1});if(!o||!s)return null;let{name:c,dontChurnMessage:u}=(0,R.Ok)()[s],{status:x,expirationTime:p,id:h}=o,m=(0,O.Yq)(p,"MMMM do, yyyy"),v=(null==o?void 0:null===(e=o.createdByUser)||void 0===e?void 0:e.id)===(null==i?void 0:i.id),g=(0,C.AY)(),f=p>Date.now();if(!("unpaid"===x||"past_due"===x)&&!f)return null;let b=g&&(v||!(null==o?void 0:o.createdByUser))?(0,r.jsx)(j.x6,{id:"velw1T",values:{expirationFormatted:m,GAMMA_PROPER_NOUN:A.On,productName:c},components:{0:(0,r.jsx)(w.N,{href:d?void 0:g,onClick:d?l:void 0,isExternal:!0,textDecoration:"underline"})}}):(0,r.jsx)(j.x6,{id:"9aBOfk",values:{expirationFormatted:m,GAMMA_PROPER_NOUN:A.On,productName:c,0:null===(t=o.createdByUser)||void 0===t?void 0:t.displayName,1:null===(n=o.createdByUser)||void 0===n?void 0:n.email},components:{0:(0,r.jsx)("b",{}),1:(0,r.jsx)("b",{})}});return(0,r.jsx)(T,{definition:{key:"payment-overdue-".concat(h),header:(0,r.jsx)(j.x6,{id:"gosJne",values:{productName:c}}),text:(0,r.jsxs)(r.Fragment,{children:[u," ",b]}),buttonText:(0,r.jsx)(j.x6,{id:"WLvqZR"}),buttonLink:d?void 0:g,buttonOnClick:d?l:void 0}})},key:"payment-overdue-butterbar"},{Component:()=>{let{subscription:e,openUpsellModal:t}=(0,P.I)();if(!e)return null;let{status:n,expirationTime:i,id:a}=e;if(!(new Date>(0,k.A)(i)&&new Date<(0,_.A)((0,k.A)(i),{days:10})))return null;let o=()=>t({segmentEvent:E.VV.GAMMA_PRO_UPSELL_SUBSCRIPTION_EXPIRED_BUTTERBAR}),s=(0,r.jsx)(w.N,{onClick:o,isExternal:!0,textDecoration:"underline",children:(0,r.jsx)(j.x6,{id:"mj68q/"})});return(0,r.jsx)(T,{definition:{key:"subscription-expired-".concat(a),header:(0,r.jsx)(j.x6,{id:"5nhH6A"}),text:(0,r.jsxs)(r.Fragment,{children:["unpaid"===n||"past_due"===n?(0,r.jsx)(j.x6,{id:"QdgXJv"}):""," ",s]}),buttonText:(0,r.jsx)(j.x6,{id:"kwkhPe"}),buttonOnClick:o}})},key:"subscription-expired-butterbar"},{Component:()=>{var e,t,n;let{user:i}=(0,N.ur)(),{subscription:a,product:o}=(0,P.I)();if(!a||!o)return null;let{status:s,expirationTime:l,id:d,cancellationRequestedTime:c}=a;if(!("canceled"!=s&&c&&new Date<(0,k.A)(l)&&new Date>(0,_.A)((0,k.A)(l),{days:-7})))return null;let u=(null==a?void 0:null===(e=a.createdByUser)||void 0===e?void 0:e.id)===(null==i?void 0:i.id),x=(0,C.AY)(),p=(0,O.Yq)(l,"MMMM do, yyyy"),{name:h,dontChurnMessage:m}=(0,R.Ok)()[o],v=!u&&(null==a?void 0:a.createdByUser)?(0,r.jsx)(j.x6,{id:"z4DeyC",values:{expirationFormatted:p,GAMMA_PROPER_NOUN:A.On,productName:h,0:null===(t=a.createdByUser)||void 0===t?void 0:t.displayName,1:null===(n=a.createdByUser)||void 0===n?void 0:n.email},components:{0:(0,r.jsx)("b",{}),1:(0,r.jsx)("b",{})}}):(0,r.jsx)(j.x6,{id:"qP91+f",values:{expirationFormatted:p,GAMMA_PROPER_NOUN:A.On,productName:h},components:{0:(0,r.jsx)(w.N,{href:x,isExternal:!0,textDecoration:"underline"})}});return(0,r.jsx)(T,{definition:{key:"subscription-ending-soon-".concat(d),header:(0,r.jsx)(j.x6,{id:"THJAvC",values:{productName:h}}),text:(0,r.jsxs)(r.Fragment,{children:[m," ",v]}),buttonText:(0,r.jsx)(j.x6,{id:"3jHA5d"}),buttonLink:x}})},key:"upcoming-cancellation-butterbar"},{key:"tablet-browser-warning",header:(0,r.jsx)(j.x6,{id:"JAtlMu",values:{GAMMA_PROPER_NOUN:A.On}}),text:(0,r.jsx)(j.x6,{id:"9JlCFS",values:{GAMMA_PROPER_NOUN:A.On}}),conditions:()=>(0,p.Pg)(),dismissKey:I.E.lastDismissedPreferredBrowserMessage},{key:"desktop-browser-warning",header:(0,r.jsx)(j.x6,{id:"3S0+Wy",values:{GAMMA_PROPER_NOUN:A.On}}),text:(0,r.jsx)(j.x6,{id:"Tf7VpJ"}),conditions:()=>U()&&(0,p.bh)(),dismissKey:I.E.lastDismissedPreferredBrowserMessage}],U=()=>(0,p.z3)()||!(0,p.H8)()&&!(0,p.nr)()&&!(0,p.yE)(),S=e=>{let{isViewOnly:t}=e,n=(0,m.En)();if(t||!n||(0,p.rA)()||h.D1||(0,g.NF)())return null;let o=D.map(e=>"Component"in e?(0,r.jsx)(e.Component,{},e.key):(0,r.jsx)(T,{definition:e},e.key));return(0,r.jsx)(i.Z,{children:(0,r.jsx)(a.s,{"data-testid":"butterbar",direction:"column",top:2,pos:"absolute",zIndex:"toast",sx:{"> *:not(:first-child)":{display:"none"}},children:o})})},T=e=>{let{definition:t}=e,{key:n,dismissKey:i="butterbar-dismiss-".concat(n),header:p,text:h,buttonText:m,buttonLink:g,buttonOnClick:j=g?()=>window.open(g,"_blank"):void 0,conditions:b,ttl:y}=t,[A,w]=(0,v.M)(i,!1);if((0,x.useEffect)(()=>{y&&A&&new Date().getTime()-new Date(A).getTime()>1e3*y&&f.x.removeItem(i)},[i,A,y]),b&&!b()||A)return null;let k=m&&j;return(0,r.jsxs)(a.s,{bg:"indigo.500",color:"white",py:3,px:4,fontSize:"sm",borderRadius:"lg",gap:4,position:"fixed",left:"50%",transform:"translateX(-50%)",shadow:"lg",width:{base:"calc(100% - 1rem)",md:"auto"},direction:{base:"column",lg:"row"},children:[(0,r.jsxs)(o.B,{spacing:0,flex:1,pr:{base:12,lg:0},children:[(0,r.jsx)(s.E,{fontWeight:"bold",children:p}),(0,r.jsx)(s.E,{opacity:"0.7",fontSize:"xs",children:h})]}),k&&(0,r.jsx)(l.$,{flexShrink:0,variant:"plain",size:"sm",rightIcon:g?(0,r.jsx)(u.g,{icon:c.Ju_}):void 0,onClick:j,children:m}),(0,r.jsx)(a.s,{alignSelf:"flex-start",position:{base:"absolute",lg:"static"},right:4,top:4,children:(0,r.jsx)(d.J,{colorScheme:"whiteAlpha",size:"sm",onClick:()=>{w(String(new Date))}})})]})}},76492:(e,t,n)=>{"use strict";n.d(t,{k:()=>s});var r=n(31085),i=n(25420),a=n(27732);let o=e=>{let{children:t,withFooter:n,isViewOnly:o}=e;return(0,r.jsxs)(i.s,{direction:"column",width:"100%",height:"100%",minHeight:"var(--100vh)",bgColor:"gray.100",color:"gray.800",children:[(0,r.jsx)(a.n,{isViewOnly:o}),(0,r.jsx)(i.s,{zIndex:"1",id:"main",flex:"1",justifyContent:"center",alignItems:"center",direction:"column",position:"relative",children:t}),n&&(0,r.jsxs)(i.s,{fontSize:"12px",color:"gray.400",pb:8,id:"footer",justifyContent:"center",children:["\xa9 ",new Date().getFullYear()," Gamma Tech, Inc."]})]})};function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withFooter:!1,isViewOnly:!1},{withFooter:n,isViewOnly:i}=t,a=t=>(0,r.jsx)(o,{withFooter:n,isViewOnly:i,children:(0,r.jsx)(e,{...t})});return"getInitialProps"in e&&(a.getInitialProps=e.getInitialProps),a}},14643:(e,t,n)=>{"use strict";n.d(t,{y:()=>f});var r=n(31085),i=n(25420),a=n(14041),o=n(17723),s=n(46108),l=n.n(s),d=n(31242),c=n(20869),u=n(50877),x=n(64225),p=n(50080);let h=e=>{let{id:t}=e,n=(0,d.useRouter)(),r=(0,x.jL)(),i=(0,x.CU)(),{goToScreen:o}=(0,p._2)(),[s,l]=(0,a.useState)(!0),[h]=(0,u.ezx)({variables:{id:t}});return(0,a.useEffect)(()=>{n&&i&&h&&h().then(e=>{let{data:t}=e;if(null==t?void 0:t.docGeneration)return t.docGeneration;throw Error("Could not load docGeneration")}).then(e=>{r((0,c.Jv)(m(e))),l(!1)}).catch(()=>{o("createWithAI")})},[r,h,o,n,i]),{isLoading:s}},m=e=>({...e,docGenerateInputs:e.docGenerateInputs.map(v),draftInput:e.draftInput?v(e.draftInput):void 0}),v=e=>{let t=l()(e);return t.settings.textMode||(t.settings.preserveText?t.settings.textMode="preserve":t.settings.textMode="generate",delete t.settings.preserveText),t};var g=n(11070);let f=(0,a.memo)(e=>{let{id:t,children:n}=e,{isLoading:a}=h({id:t});return a?(0,r.jsx)(i.s,{...g.vP,w:"100%",h:"100%",flex:1,alignSelf:"center",children:(0,r.jsx)(o.Yh,{})}):(0,r.jsx)(r.Fragment,{children:n})});f.displayName="LoadDocGenerationPage"},89117:(e,t,n)=>{"use strict";n.d(t,{T:()=>l});var r=n(31085),i=n(31242),a=n(14041),o=n(83479),s=n(50080);function l(e){return(0,a.memo)(t=>{let{push:n,query:l}=(0,i.useRouter)(),d="sites-dashboard"===l.ref,c=(0,a.useMemo)(()=>({goToScreen:(e,t)=>{let{generateId:r="",ref:i,channelId:a}=t||{},o=new URLSearchParams({...i&&{ref:i},...a&&{channelId:a}}).toString(),s=o?"?".concat(o):"";switch(e){case"createWithAI":n("/create".concat(s));break;case"createImport":n("/create/import".concat(s));break;case"createPaste":n("/create/paste".concat(s));break;case"createGenerate":n("/create/generate/".concat(r).concat(s));break;case"legacyGuidedMode":n("/generate".concat(s));break;case"promptEditor":n("/generate/".concat(r).concat(s));break;case"home":n("/");break;default:throw Error("invalid screen")}},onDocGenerationLoaded:e=>{(0,o.g5)({pathname:"/create/generate/".concat(e),emitChange:!1})},navEnabled:!0,webpageOnly:d,skipThemeStep:!1}),[n,d]);return(0,r.jsx)(s.lW.Provider,{value:c,children:(0,r.jsx)(e,{...t})})})}},14979:(e,t,n)=>{"use strict";n.d(t,{Bo:()=>w,Gx:()=>A,R6:()=>b,Yq:()=>y,ak:()=>k});var r=n(12327),i=n(66820),a=n(77563),o=n(48736),s=n(75815),l=n(91142),d=n(49423),c=n(39643),u=n(59524),x=n(8808),p=n(96950),h=n(18176),m=n(14905),v=n(16753),g=n(38345),f=n(41103);let j={ar:d.A,en:c.A,fa:u.A,"pt-br":x.A,ja:p.A,"zh-cn":h.A,"zh-tw":m.A,es:v.A,fr:g.A,ko:f.A},b=()=>j[r.Ru.locale]||void 0,y=(e,t)=>e?(0,i.A)((0,a.A)(e),t,{locale:b()}):"",A=(e,t)=>e?(0,o.A)((0,a.A)(e),t?(0,a.A)(t):new Date,{locale:b()}):"",w=e=>e?(0,s.A)((0,a.A)(e),{locale:b()}):"",k=e=>e?(0,l.A)((0,a.A)(e),new Date,{locale:b(),addSuffix:!0,roundingMethod:"floor"}):""},44095:(e,t,n)=>{"use strict";n.d(t,{l:()=>o});var r=n(13765),i=n(14041),a=n(57882);let o=()=>{let{push:e}=(0,r.useRouter)(),{userStatus:t}=(0,a.ur)();(0,i.useEffect)(()=>{"loggedOut"===t&&e("/signin?redirect_to=".concat(encodeURIComponent(window.location.href)))},[t,e])}},28819:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var r=n(31085),i=n(31242),a=n(80680),o=n(76492),s=n(47019),l=n(14643),d=n(89117),c=n(44095),u=n(15576);let x=(0,a.h)((0,o.k)((0,d.T)(()=>{(0,c.l)();let e=(0,i.useRouter)();return(0,u.l)()&&e.isReady?(0,r.jsx)(l.y,{id:e.query.id,children:(0,r.jsx)(s.r,{autosetLocale:!1})}):null})))}},e=>{var t=t=>e(e.s=t);e.O(0,[8411,3861,23,4596,9573,780,6721,6576,2889,7193,7984,5804,6407,3387,6190,7547,6180,6773,767,7186,6267,9680,9695,8957,5714,996,6018,8814,3641,8495,4327,6889,5884,1746,9863,6377,3693,4492,4787,7036,1786,9719,7723,6084,1368,7019,636,6593,8792],()=>t(36909)),_N_E=e.O()}]);
//# sourceMappingURL=[id]-2c0a7801179f945f.js.map